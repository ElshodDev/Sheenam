@using Sheenam.Blazor.Models.Foundations.Guests
@using Sheenam.Blazor.Models.Foundations.Hosts
@namespace Sheenam.Blazor.Views.Components

<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h4 class="mb-0">@(host.Id == Guid.Empty ? "Yangi Mezbon Qo'shish" : "Mezbonni Tahrirlash")</h4>
    </div>
    <div class="card-body">
        <EditForm Model="@host" OnValidSubmit="HandleSubmit">
            <DataAnnotationsValidator />

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Ism:</label>
                    <InputText @bind-Value="host.FirstName" class="form-control" placeholder="Ism kiriting" />
                    <ValidationMessage For="@(() => host.FirstName)" />
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Familiya:</label>
                    <InputText @bind-Value="host.LastName" class="form-control" placeholder="Familiya kiriting" />
                    <ValidationMessage For="@(() => host.LastName)" />
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Email:</label>
                    <InputText @bind-Value="host.Email" class="form-control" placeholder="example@mail.com" />
                    <ValidationMessage For="@(() => host.Email)" />
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Telefon:</label>
                    <InputText @bind-Value="host.PhoneNumber" class="form-control" placeholder="+998901234567" />
                    <ValidationMessage For="@(() => host.PhoneNumber)" />
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label class="form-label">Tug'ilgan sana:</label>
                    <InputDate @bind-Value="host.DateOfBirth" class="form-control" />
                    <ValidationMessage For="@(() => host.DateOfBirth)" />
                </div>
                <div class="col-md-6 mb-3">
                    <label class="form-label">Jins:</label>
                    <InputSelect @bind-Value="host.Gender" class="form-control">
                        @foreach (var gender in Enum.GetValues(typeof(GenderType)))
                        {
                            <option value="@gender">@gender</option>
                        }
                    </InputSelect>
                </div>
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    @(host.Id == Guid.Empty ? "Saqlash" : "Yangilash")
                </button>
                @if (host.Id != Guid.Empty)
                {
                    <button type="button" class="btn btn-secondary" @onclick="ResetForm">
                        Bekor qilish
                    </button>
                }
            </div>
        </EditForm>
    </div>
</div>