@* Loading Skeleton for Cards *@

@if (Type == SkeletonType.Card)
{
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        @for (int i = 0; i < Count; i++)
        {
            <div class="col">
                <div class="card h-100 shadow">
                    <div class="skeleton skeleton-image" style="height: 200px;"></div>
                    <div class="card-body">
                        <div class="skeleton skeleton-title mb-3"></div>
                        <div class="skeleton skeleton-text mb-2"></div>
                        <div class="skeleton skeleton-text mb-2"></div>
                        <div class="skeleton skeleton-text mb-3" style="width: 70%;"></div>
                        <div class="d-flex justify-content-between mb-3">
                            <div class="skeleton skeleton-badge"></div>
                            <div class="skeleton skeleton-badge"></div>
                        </div>
                        <div class="skeleton skeleton-button"></div>
                    </div>
                </div>
            </div>
        }
    </div>
}
else if (Type == SkeletonType.Table)
{
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    @for (int i = 0; i < Columns; i++)
                    {
                        <th><div class="skeleton skeleton-text"></div></th>
                    }
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Count; i++)
                {
                    <tr>
                        @for (int j = 0; j < Columns; j++)
                        {
                            <td><div class="skeleton skeleton-text"></div></td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else if (Type == SkeletonType.Statistics)
{
    <div class="row g-4">
        @for (int i = 0; i < Count; i++)
        {
            <div class="col-md-6 col-xl-3">
                <div class="card shadow h-100">
                    <div class="card-body">
                        <div class="d-flex justify-content-between mb-3">
                            <div class="skeleton skeleton-text" style="width: 40%;"></div>
                            <div class="skeleton skeleton-icon"></div>
                        </div>
                        <div class="skeleton skeleton-title mb-2" style="width: 60%;"></div>
                        <div class="skeleton skeleton-text" style="width: 50%;"></div>
                    </div>
                </div>
            </div>
        }
    </div>
}

<style>
    .skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s ease-in-out infinite;
        border-radius: 4px;
    }

    .skeleton-image {
        width: 100%;
        border-radius: 0;
    }

    .skeleton-title {
        height: 24px;
        width: 80%;
    }

    .skeleton-text {
        height: 16px;
        width: 100%;
    }

    .skeleton-badge {
        height: 24px;
        width: 80px;
        border-radius: 12px;
    }

    .skeleton-button {
        height: 38px;
        width: 100%;
        border-radius: 6px;
    }

    .skeleton-icon {
        height: 48px;
        width: 48px;
        border-radius: 50%;
    }

    @@keyframes loading {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }

    body.dark-mode .skeleton {
        background: linear-gradient(90deg, #2d2d2d 25%, #3d3d3d 50%, #2d2d2d 75%);
        background-size: 200% 100%;
    }
</style>

@code {
    [Parameter] public SkeletonType Type { get; set; } = SkeletonType.Card;
    [Parameter] public int Count { get; set; } = 3;
    [Parameter] public int Columns { get; set; } = 5;

    public enum SkeletonType
    {
        Card,
        Table,
        Statistics
    }
}